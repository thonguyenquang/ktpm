<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="info.css">
    <title>Thông tin cá nhân</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
</head>
<body>
    <header>
        <nav class="navbar">
            <div class="navbar1">
                <div class="hotline">
                    <i class="fas fa-phone-alt"></i>
                    <!-- <p>Hotline:</p> -->
                    <span>Hotline: 1900.xxx.xxx </span>
                </div>
                <div class="login" id="login-section">
                    <ul>
                        <li><a href="#">Đăng ký</a></li>
                        <li>|</li>
                        <li><a href="#">Đăng nhập</a></li>
                    </ul>
                </div>
                <!-- Thông tin người dùng sẽ được hiển thị khi đăng nhập -->
                <div class="user-navbar" id="user-navbar" style="display: none;">
                    <div class="user-toggle">
                        <img src="" class="avatar-mini" alt="Avatar">
                        <span class="username-mini"></span>
                    </div>
                    <div class="dropdown-menu" id="dropdown-menu">
                        <a href="#" id="profile-link">Thông tin cá nhân</a>
                        <a href="#" id="logout-link">Đăng xuất</a>
                    </div>
                </div>
                <!-- <div class="user-navbar" id="user-navbar" style="display: none;">
                    <img src="" class="avatar-mini" alt="Avatar">
                    <span class="username-mini"></span>
                </div> -->
            </div>

            <div class="navbar2">
                <img src="pic/logo.png" alt="" class="logo">
                <ul class="menu">
                    <li><a href="#">Lớp</a>
                        <ul class="dropmenu1">
                            <li><a href="#">Lớp 10</a></li>
                            <li><a href="#">Lớp 11</a></li>
                            <li><a href="#">Lớp 12</a></li>
                        </ul>
                    </li>
                    <li><a href="#">Đề thi - Tài liệu</a></li>
                    <li><a href="#">Đăng tài liệu</a></li>
                    <li><a href="#">Giới thiệu</a></li>
                    <li class="search-box">
                        <a href="#" id="searchIcon"><i class="fas fa-search"></i></a>
                        <ul class="dropmenu2">
                            <li><a href="#"><input type="text" placeholder="Tìm kiếm..."></a></li>
                            <li><a href="#"><i class="fas fa-search"></i></a></li> 
                        </ul>
                    </li>
                </ul>   
            </div>
        </nav>
    </header>
    

    <main>
        <div class="sidebar">
            <div class="profile1">
                <div class="avatar-box">
                    <div class="avatar"></div>
                    <span class="status-dot"></span>
                </div>
                <div class="user-info">
                    <h3>Hoàng Bảo Trang</h3>
                    <p>#cuune</p>
                    <p class="highlight">Chào mừng trở lại!</p>
                </div>
            </div>
            <div class="profile2">
                <div class="highlight">Thông tin cá nhân</div>
                <div class="next">&gt;</div>
            </div>
        </div>
        <div class="container">
            <h2>Thông tin</h2>
            <div class="info">
                <p><span class="label">Họ và tên:</span> <span class="value">Hoàng Bảo Trang</span></p>
                <p><span class="label">Giới tính:</span> <span class="value" id="gender">Nữ</span></p>
                <p><span class="label">Số điện thoại phụ huynh:</span> <span class="value">******855</span></p>
                <p><span class="label">E-mail:</span> <span class="value">******79@gmail.com</span></p>
                <p><span class="label">Tỉnh/Thành phố:</span> <span class="value"></span></p>
                <p><span class="label">Quận/Huyện:</span> <span class="value"></span></p>
                <p><span class="label">Khối/Lớp:</span> <span class="value">Lớp 5</span></p>
                <p><span class="label">Đã tham gia:</span> <span class="value" id="joined-days">9 ngày</span></p>
            </div>
            <div class="footer-notes">
                <p>Lưu ý: Chỉ thành viên VIP mới được chỉnh sửa thông tin cá nhân và thay đổi avatar</p>
                <div class="change">
                    <button class="change-avatar">Thay avatar</button>
                    <button class="change-password">Đổi mật khẩu</button>
                </div>
            </div>
        </div>
    </main>


    <script>
        // Ngày đăng ký (có thể thay đổi động nếu cần)
        const registrationDate = new Date("2025-01-06"); // YYYY-MM-DD
        // Lấy ngày hôm nay
        const today = new Date();
        // Tính số mili giây chênh lệch
        const diffTime = today - registrationDate;
        // Chuyển thành số ngày ( làm tròn xuống )
        const diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24));
        // Gán vào span
        document.getElementById("joined-days").textContent = `${diffDays} ngày`;

        window.addEventListener('DOMContentLoaded', () => {
            // 1. Lấy giới tính và đặt avatar trong sidebar
            const gender = document.getElementById("gender").textContent.trim().toLowerCase();
            const avatarDiv = document.querySelector(".avatar");
            let avatarSrc = 'pic/avatar-dafault.png'; // Mặc định nếu k có giới tính
            if (gender === "nữ") {
                avatarSrc = 'pic/default-nu.webp';
            } else if (gender === "nam") {
                avatarSrc = 'pic/default-nam.webp';
            }
            avatarDiv.style.backgroundImage = `url('${avatarSrc}')`;

            // 2. Thông tin người dùng
            const user = {
                name: 'Hoàng Bảo Trang',
                avatar: avatarSrc
            };

            // 3. Ẩn login section, hiển thị user navbar với avatar + tên
            document.getElementById('login-section').style.display = 'none';
            const userNavbar = document.getElementById('user-navbar');
            userNavbar.style.display = 'flex';
            userNavbar.querySelector('.avatar-mini').src = user.avatar;
            userNavbar.querySelector('.username-mini').textContent = user.name;

            // 4. Toggle dropdown menu khi nhấn vào avatar + tên
            const userToggle = userNavbar.querySelector('.user-toggle');
            const dropdownMenu = document.getElementById('dropdown-menu');
            userToggle.addEventListener('click', function (e) {
                e.stopPropagation();
                dropdownMenu.style.display = dropdownMenu.style.display === 'block' ? 'none' : 'block';
            });

            // 5. Click ngoài thì ẩn dropdown
            document.addEventListener('click', function (e) {
                if (!userNavbar.contains(e.target)) {
                    dropdownMenu.style.display = 'none';
                }
            });

            // 6. Xử lý Đăng xuất (giả lập)
            document.getElementById('logout-link').addEventListener('click', function (e) {
                e.preventDefault();
                alert('Đã đăng xuất!');
                location.reload(); // Hoặc chuyển về trang đăng nhập
            });
        });

    </script>



    <footer>
        <div class="footer1">
            <div><img src="pic/logo.png" alt=""></div>
            <div class="method">
                <div class="method1">
                    <img src="pic/icon-ytb.svg" alt="">
                    <a href="#">Youtube</a>
                </div>
                <div class="method2">
                    <img src="pic/icon-fb.svg" alt="">
                    <a href="#">Facebook</a>
                </div>
            </div>
        </div>
        <div class="footer2">
            <div class="box1">
                <h3>Về Capybara Study</h3>
                <ul>
                    <li><a href="#">Giới thiệu</a></li>
                    <li><a href="#">Tin tức</a></li>
                    <li><a href="#">Thỏa thuận sử dụng</a></li>
                    <li><a href="#">Chính sách bảo mật</a></li>
                </ul>
            </div>
            <div class="box2">
                <h3>Trợ giúp</h3>
                <ul>
                    <li><a href="#">Câu hỏi thường gặp</a></li>
                    <li><a href="#">Hotline: 1900.xxx.xxx</a></li>
                    <li><a href="#">Email: Capybarastudy@gmail.com</a></li>
                </ul>
            </div>
            <div class="box3">
                <h3>Capybara Study</h3>
                <ul>
                    <li><a href="#">Địa chỉ: xxx, Hà Đông, Thành phố Hà Nội</a></li>
                    <li><a href="#">Bản quyền thuộc về xxx</a></li>
                </ul>
            </div>
        </div>
        <div class="footer3"></div>
    </footer>
</body>
</html>
